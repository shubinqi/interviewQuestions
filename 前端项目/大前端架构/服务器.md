<!--
 * @Author: Shu Binqi
 * @Date: 2023-03-05 23:50:28
 * @LastEditors: Shu Binqi
 * @LastEditTime: 2023-03-10 16:07:48
 * @Description: 服务器面试题（3题）
 * @Version: 1.0.0
 * @FilePath: \interviewQuestions\前端项目\其他\服务器.md
-->

#### 常见服务器架构有哪些？

常见的服务器架构有以下几种：

1. **单机架构**：所有应用都部署在一台物理或虚拟机上，适合小型应用或测试环境，简单、易部署、易维护。
1. **分层架构**：将应用按照不同的功能层次分别部署到不同的物理或虚拟机上，例如将数据库、应用服务器、Web 服务器分别部署在不同的机器上，通过接口或服务进行通信。适用于中小型的应用，提高了应用的可伸缩性和可维护性。
1. **集群架构**：将应用部署在多台物理或虚拟机上，并通过负载均衡器将流量分发到不同的机器上，提高了应用的可伸缩性和可用性。
1. **分布式架构**：将应用拆分为不同的服务，分别部署在不同的物理或虚拟机上，通过网络协议进行通信，适用于大型应用，提高了应用的可伸缩性和可维护性，但也增加了开发和部署的复杂度。
1. **微服务架构**：将应用按照业务功能划分为不同的微服务，每个微服务都是独立的进程，通过轻量级的通信协议进行通信。适用于大型复杂的分布式应用，提高了应用的可伸缩性和可维护性，但也增加了部署和运维的复杂度。

以上几种架构各有优缺点，需要根据具体的业务需求和技术实现来选择合适的架构。同时，不同的架构也需要不同的管理和运维方式，需要根据具体情况进行调整和优化。

#### 以上几种架构有什么优缺点？

以下是以上几种常见服务器架构的优缺点：

1. **单机架构**：

优点：

- 部署简单、易于维护；
- 适用于小型应用或测试环境。

缺点：

- 单点故障；
- 可用性和性能有限；
- 不适合大型高并发应用。

2. **分层架构**：

优点：

- 分层清晰，易于管理和维护；
- 可以根据需要扩展每个层级；
- 适用于中小型应用。

缺点：

- 可能会出现瓶颈问题，例如数据库成为性能瓶颈；
- 部署和维护需要更多的管理工作。

3. **集群架构**：

优点：

- 提高了可用性和性能；
- 可以通过水平扩展增加机器数量；
- 适用于中大型应用。

缺点：

- 部署和维护需要更多的管理工作；
- 会增加复杂性和成本。

4. **分布式架构**：

优点：

- 可以将应用拆分为多个服务，分别部署和维护；
- 可以通过分布式技术来提高可用性和性能；
- 适用于大型应用。

缺点：

- 增加了复杂性和成本；
- 需要更高的技术要求和管理能力。

5. **微服务架构**：

优点：

- 可以将应用拆分为独立的服务，方便管理和维护；
- 可以根据需要扩展每个服务；
- 可以通过分布式技术来提高可用性和性能；
- 适用于大型复杂的分布式应用。

缺点：

- 增加了复杂性和成本；
- 需要更高的技术要求和管理能力；
- 服务之间的通信需要处理好问题，否则会影响性能。
  需要根据具体的业务需求和技术实现来选择合适的架构。同时，不同的架构也需要不同的管理和运维方式，需要根据具体情况进行调整和优化。

#### 什么是负载均衡？

负载均衡是指将负载（工作任务）平衡地分摊到多个操作单元上进行运行，以协同完成工作任务，提高整体性能和可用性。在计算机网络中，负载通常指网络流量、CPU、磁盘驱动器等资源的负载。负载均衡的主要作用包括：

- **高并发处理能力**：通过算法调整负载，均匀地分配应用集群中各节点的工作量，提高应用集群的并发处理能力（吞吐量）。
- **伸缩性**：添加或减少服务器数量，然后由负载均衡进行分发控制。这使得应用集群具备伸缩性。
- **高可用**：负载均衡器可以监控服务器，当服务器不可用时，自动跳过，将请求分发给可用的服务器。这使得应用集群具备高可用的特性。
- **安全防护**：有些负载均衡软件或硬件提供了安全性功能，如黑白名单处理、防火墙、防 DDoS 攻击等。

负载均衡的实现方式有多种，其中比较常见的包括：

- **硬件负载均衡**：使用专门的负载均衡硬件设备，如 F5、Cisco ACE 等。
- **软件负载均衡**：使用软件实现负载均衡，如 Nginx、HAProxy、Apache 等。
- **DNS 负载均衡**：使用 DNS 服务器将请求分发到多个服务器上，如 Amazon Route 53、Alibaba Cloud DNS 等。
- **IP 负载均衡**：使用 IP 地址进行负载均衡，如 AWS Elastic Load Balancer（ELB）。

ELB 是 AWS 提供的一种完全托管的负载均衡服务，可以将传入的应用程序流量自动分配到跨 AWS 和本地资源的多个目标和虚拟设备。ELB 提供了四种不同类型的软件负载均衡器，包括应用程序负载均衡器(ALB)、网络负载均衡器(NLB)、网关负载均衡器(GWLB)和 Classic Load Balancer(CL).

在 IP 哈希法中，负载均衡器将对客户端 IP 地址执行名为哈希的数学计算，将客户端 IP 地址转换为数字，然后将该数字映射到各个服务器。当主负载均衡器故障时，可以使用浮动 IP 或其他灵活的方法来解决 IP 地址重新映射的问题，以便将用户请求转到第二个负载均衡器。
