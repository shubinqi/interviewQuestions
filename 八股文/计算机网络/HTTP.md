<!--
 * @Author: Shu Binqi
 * @Date: 2023-03-05 23:37:07
 * @LastEditors: Shu Binqi
 * @LastEditTime: 2023-03-05 23:39:54
 * @Description: 八股文：HTTP相关（11题）
 * @Version: 1.0.0
 * @FilePath: \interviewQuestions\八股文\计算机网络\HTTP.md
-->

#### HTTP 不同版本的区别？

HTTP（超文本传输协议）是一种在 Web 世界中用于传输数据的应用层协议。HTTP 有多个版本，主要包括 HTTP/0.9、HTTP/1.0、HTTP/1.1、HTTP/2 和 HTTP/3。这些版本之间有很多区别，下面将对这些版本的区别进行简单介绍：

1. **HTTP/0.9**：是 HTTP 的第一个版本，于 1991 年发布，只支持 GET 方法，没有头部信息和状态码，数据传输采用纯文本方式。
1. **HTTP/1.0**：于 1996 年发布，支持多种请求方法，引入了头部信息、状态码、缓存等概念，并且支持基本的安全机制，如通过 HTTPS 进行加密通信。
1. **HTTP/1.1**：于 1999 年发布，是 HTTP 的主流版本，引入了持久连接（keep-alive）、分块传输编码（chunked）、管道化请求（pipelining）等功能，显著提高了网络传输效率。
1. **HTTP/2**：于 2015 年发布，是 HTTP 的最新版本，采用二进制格式传输数据，支持多路复用（multiplexing）、头部压缩（header compression）、服务器推送（server push）等功能，进一步提高了网络传输效率。
1. **HTTP/3**：于 2020 年发布，是基于 QUIC 协议的 HTTP 版本，采用 UDP 协议进行数据传输，解决了 TCP 协议的拥塞控制和队头阻塞等问题，提高了网络传输效率。

#### HTTP 2.0 解决了什么问题？

HTTP/2.0 相较于 HTTP/1.x，主要解决了以下几个问题：

1. **二进制传输**：HTTP/1.x 采用文本格式传输数据，而 HTTP/2.0 使用二进制格式，可更高效地传输数据。
1. **队头阻塞**：HTTP/1.x 的请求-响应模式是串行的，也就是说同一时间只能处理一个请求，因此必须等待上一个请求响应完成才能发送下一个请求。而 HTTP/2.0 的多路复用可以同时发送多个请求，并通过二进制帧将一个连接分成多个流，每个流可以独立地双向通信，从而大大提高了并发性能。
1. **头部压缩**：HTTP/2.0 使用 HPACK 算法对头部信息进行压缩，减少了传输的数据量。
1. **服务器推送**：HTTP/2.0 可以让服务器在客户端需要请求时提前推送响应内容，从而加快了网页加载速度。

综上所述，HTTP/2.0 主要解决了 HTTP/1.x 中存在的性能瓶颈和效率问题，从而提高了网络性能和用户体验。

#### HTTP 3.0 解决了什么问题？

HTTP/3.0 是基于 QUIC 协议的新一代 HTTP 协议，主要解决的问题包括：

1. **传输效率**：HTTP/3.0 基于 QUIC 协议，使用 UDP 而非 TCP 作为传输层协议，同时支持多路复用、0-RTT 和头部压缩等技术，能够大幅提升传输效率，缩短页面加载时间。
1. **安全性**：HTTP/3.0 通过使用 QUIC 协议内置的加密机制，解决了 HTTP/2.0 中明文传输的问题，能够有效地提高通信安全性。
1. **连接稳定性**：HTTP/3.0 支持连接迁移，当客户端切换网络环境时可以快速恢复连接，减少连接中断的时间，提升连接稳定性。

总的来说，HTTP/3.0 的出现主要是为了解决 HTTP/2.0 存在的一些问题，并提升传输效率和安全性。

#### 什么是队头堵塞？如何解决队头阻塞？

队头阻塞是指在 HTTP/1.1 中，如果某个请求占用了连接的带宽，在其响应之前，后续的所有请求都必须等待，造成了阻塞的效果。

队头阻塞的解决方案如下：

- **舍弃 TCP 协议**：想要在应用程序中避免 TCP 队头阻塞带来的影响，只有舍弃 TCP 协议。比如，Google 推出的 QUIC 协议，在某种程度上可以说避免了 TCP 中的队头阻塞，因为它根本不使用 TCP 协议，而是在 UDP 协议的基础上实现了可靠传输。而 UDP 是面向数据报的协议，数据报之间不会有阻塞约束。
- **使用 SCTP 协议**：SCTP 是流控制传输协议，它是和 TCP、UDP 在同一层次的传输协议。SCTP 的多流特性也可以尽可能地避免队头阻塞的情况。
- **HTTP/2 多路复用**：HTTP/2 的多路复用解决了 HTTP 级别的队头阻塞，但是在网络模型中还需要考虑其他层的影响，比如安全层的 TLS 和传输层的 TCP。这些协议中的每一层都用一些元数据包装来自其上一层的数据。在 HTTP(S)数据中预先加上 TCP 包头，然后将其放入 IP 包等，这样就可以在协议之间实现相对简洁的分离。
- **QUIC 协议**：QUIC 协议是基于 UDP 的传输层协议，它最显著的改变包括以下几个方面：把复用移到了传输层，简化 HTTP，直接将连接复用机制放置在 QUIC 协议内来处理，简化了 HTTP 层面，使用新的传输层协议，解决队头堵塞问题。

总之，队头阻塞是由 TCP 协议的实现机制所决定的，无法避免。解决队头阻塞的方式有多种，可以选择舍弃 TCP 协议，使用 SCTP 协议或 QUIC 协议等。在 HTTP/2 中，多路复用可以解决 HTTP 级别的队头阻塞。同时，在网络模型中还需要考虑其他层的影响，比如安全层的 TLS 和传输层的 TCP。

#### 什么是 HTTPS 协议？和 HTTP 协议的区别？

HTTP（超文本传输协议）和 HTTPS（超文本传输安全协议）都是一种用于分布式、协作式和超媒体信息系统的应用层协议。其中，HTTPS 是一种透过计算机网络进行安全通信的传输协议，经由 HTTP 进行通信，但利用 SSL/TLS 来加密数据包，提供对网站服务器的身份认证，保护交换数据的隐私与完整性，因此 HTTPS 比 HTTP 更加安全。

下面是 HTTP 和 HTTPS 的区别：

- **安全性不同**：HTTPS 的通信过程是经过加密的，而 HTTP 则不加密。HTTPS 通信过程中使用 SSL/TLS 协议加密，保证了数据传输的安全性，而 HTTP 没有加密，数据传输过程不安全。
- **网站申请流程不同**：使用 HTTPS 协议需要到 CA（Certificate Authority，数字证书认证机构）申请证书，一般免费证书很少，需要交费，Web 服务器启用 SSL 需要获得一个服务器证书并将该证书与要使用 SSL 的服务器绑定，而 HTTP 则不需要证书。
- **默认端口不同**：HTTP 的默认端口是 80，而 HTTPS 的默认端口是 443。当浏览器请求 HTTP 网站的时候，会默认连接到 80 端口上，而 HTTPS 则会默认连接到 443 端口上。
- **传输速度不同**：HTTP 的传输速度比 HTTPS 快，主要是因为 HTTP 使用 TCP 三次握手建立连接，客户端和服务器需要交换 3 个包，而 HTTPS 除了 TCP 的三个包，还要加上 SSL 握手需要的 9 个包，所以一共是 12 个包。HTTPS 比 HTTP 更加耗费服务器资源。
- **安全警告不同**：当你使用浏览器访问一个 HTTP 网站的时候，你会发现浏览器会对该 HTTP 网站显示“不安全”的安全警告，提示用户当前所访问的网站可能会存在风险。而假如你访问的是一个 HTTPS 网站时，情况却是完全不一样。你会发现浏览器的地址栏会变成绿色，企业名称会展示在地址栏中，地址栏上面还会出现一把“安全锁”的图标。这些都会给予用户很大的视觉上的安全体验。

#### HTTPS 是如何保证安全的？

HTTPS（HyperText Transfer Protocol Secure）是在传输层基础上对 HTTP 协议的安全加强，主要通过以下方式来保证数据的安全：

1. **SSL/TLS 协议**：HTTPS 采用 SSL/TLS 协议来对传输的数据进行加密，防止被窃听、篡改或者伪造。TLS 目前的最新版本是 TLS 1.3。
1. **数字证书**：为了验证服务器的身份和防止中间人攻击，服务器需要使用数字证书。数字证书包含了一些基本信息，如证书颁发机构、证书有效期、服务器公钥等。浏览器使用数字证书验证服务器的身份，并根据证书中的公钥来进行数据的加密。
1. **对称加密和非对称加密**：HTTPS 采用对称加密和非对称加密相结合的方式来对数据进行加密。首先使用非对称加密算法进行身份认证和密钥协商，然后使用对称加密算法对数据进行加密。因为对称加密算法的运算速度较快，所以在传输数据时使用对称加密算法可以提高传输效率。
1. **HTTPS 证书的过期和吊销**：HTTPS 证书会设置有效期，一般为 1 年或 2 年，过期后需要重新申请。如果证书被攻击者盗用，证书的发行机构可以吊销证书，从而避免攻击者继续使用该证书进行攻击。

总之，HTTPS 通过加密、身份验证和完整性校验等方式来保证数据的安全传输。但是也要注意，HTTPS 并不能完全防止所有的攻击，例如中间人攻击、恶意软件、社会工程学等攻击方式仍然存在风险。因此，在开发过程中，还需要采取一些额外的安全措施来保护应用程序和用户的安全。

#### 对称加密算法和非对称加密算法区别是什么？

非对称加密算法和对称加密算法的区别如下：

1. 对称加密算法使用相同的密钥进行加密和解密，加密和解密的速度较快，但是密钥的传输安全性较低；而非对称加密算法使用一对公钥和私钥进行加密和解密，密钥的传输安全性较高，但是加密和解密的速度较慢。
1. 对称加密算法的密钥长度通常较短，一般为 128 位或 256 位，而非对称加密算法的密钥长度一般为 1024 位或 2048 位，甚至更长。
1. 对称加密算法适用于对大量数据进行加密和解密，而非对称加密算法适用于对少量数据进行加密和解密，例如密码、证书等。
1. 对称加密算法的密钥只有一份，加密和解密都需要使用这个密钥，因此密钥的管理较为困难；而非对称加密算法的公钥和私钥是一对，公钥可以随意分发，私钥只由拥有者掌握，因此密钥的管理较为容易。

总的来说，非对称加密算法相对于对称加密算法更加安全，但是加密和解密的速度较慢，适用于对少量数据进行加密和解密。而对称加密算法则适用于对大量数据进行加密和解密。在实际应用中，通常采用非对称加密算法和对称加密算法结合的方式，既保证了安全性，又提高了加密和解密的效率。

#### 介绍下 SSL 和 TLS？TLS/SSL 的工作原理？

SSL（Secure Sockets Layer，安全套接字层）和 TLS（Transport Layer Security，传输层安全）是用于保护网络通信安全的协议。SSL 是在 Netscape 公司开发的基础上发展起来的，后来被 TLS 所取代，TLS 是 SSL 的继承者。它们的工作原理类似，都是通过数字证书来建立安全连接，但 TLS 是 SSL 的升级版，具有更高的安全性。

SSL 和 TLS 的工作原理如下：

1. 客户端发送连接请求给服务器端，请求建立 SSL/TLS 连接。
1. 服务器端返回数字证书（包含公钥），并要求客户端验证证书的有效性。数字证书由证书颁发机构（CA）颁发，用于证明服务器的身份。
1. 客户端使用预装的根证书验证服务器端的数字证书的有效性。如果证书有效，客户端会生成一个随机的对称密钥，使用服务器端的公钥加密这个密钥，然后将加密后的密钥发送给服务器端。
1. 服务器端使用自己的私钥解密客户端发来的密钥，然后使用对称密钥来加密通信内容。
1. 客户端接收到加密的通信内容后，使用对称密钥解密内容。

在整个过程中，SSL/TLS 协议会对通信过程中的数据进行加密、解密和验证等操作，确保通信内容不被篡改、窃听和伪造。
