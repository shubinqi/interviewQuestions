<!--
 * @Author: Shu Binqi
 * @Date: 2023-03-14 19:54:21
 * @LastEditors: Shu Binqi
 * @LastEditTime: 2023-04-16 07:00:10
 * @Description: 闭包（Closure）
 * @Version: 1.0.0
 * @FilePath: \interviewQuestionsc:\Git\interviewQuestions\前端基础\JavaScript\闭包-Closure.md
-->

#### 解释下闭包（Closure）的概念，以及应用场景？

**闭包**（Closure）是指一个函数可以访问并操作其外部作用域中的变量，即使在函数外部，这些变量也仍然存在。闭包是一种特殊的函数对象，它可以保持对定义时作用域的引用，并在之后调用时使用这个引用。

在 JavaScript 中，函数内部可以定义其他函数，而内部函数可以访问外部函数的变量，包括参数和局部变量。这些内部函数形成了闭包，它们可以继续访问外部函数的变量，即使外部函数已经返回。这使得 JavaScript 具有了一些特殊的能力，比如封装和数据隐藏，以及实现一些高级的编程模式。

以下是一些闭包的应用场景：

1. **封装**：通过闭包，我们可以将某些变量或方法封装在函数内部，只暴露需要的接口给外部。
1. **计数器**：闭包可以实现一些简单的计数器功能，比如点击计数、定时器等。
1. **延迟执行**：通过闭包，我们可以延迟函数的执行，以达到一些特定的目的，比如防抖和节流。
1. **部分应用**：通过闭包，我们可以将某些参数预先传入一个函数，并返回一个新函数，这个新函数可以在之后使用这些参数。
1. **模块化**：通过闭包，我们可以将一些相关的变量和方法封装在一个函数内部，创建一个简单的模块系统。

需要注意的是，闭包也可能会导致内存泄漏的问题，因为闭包中引用的外部变量不会被垃圾回收，除非闭包本身被销毁。因此，在使用闭包时，需要注意避免内存泄漏的问题。

#### 写一个 JS 闭包示例？

以下是一个使用 JavaScript 闭包的示例：

```
function counter() {
  let count = 0;
  return function() {
    count++;
    console.log(count);
  }
}

let increment = counter();
increment(); // 1
increment(); // 2
increment(); // 3
```

该代码定义了一个函数 counter，该函数返回一个内部函数，内部函数可以访问外部函数的变量 count。使用 let increment = counter(); 调用 counter 函数，返回内部函数并将其赋值给 increment 变量。然后使用 increment() 调用内部函数，每次调用都会将 count 变量加 1，并将其值输出到控制台。

这里的内部函数形成了闭包，可以访问外部函数的变量 count，并且可以持续存在，不会被垃圾回收机制清除。通过不断调用内部函数，可以实现一个计数器的功能。

闭包是 JavaScript 中一个重要的概念，可以用于实现许多有用的功能，如封装私有变量、实现模块化等。
