<!--
 * @Author: Shu Binqi
 * @Date: 2023-03-14 19:49:57
 * @LastEditors: Shu Binqi
 * @LastEditTime: 2023-04-24 21:37:09
 * @Description: 跨域（2题）
 * @Version: 1.0.0
 * @FilePath: \interviewQuestionsc:\Git\interviewQuestions\前端基础\浏览器\跨域.md
-->

#### 同源策略是什么？为什么会产生跨域？

**同源策略**（Same Origin Policy）是浏览器的一种安全策略，它规定了在同一个源（协议、主机名和端口号均相同）下的页面之间可以互相访问，而不同源的页面之间则不能相互访问。同源策略的目的是为了保护用户的隐私和安全，防止恶意网站获取用户的敏感信息或进行攻击。

同源策略产生跨域的原因是，浏览器限制了 JavaScript 脚本在一个网页中无法访问其他域名下的资源，这是因为 JavaScript 脚本在运行时，需要从同一域名下加载脚本文件，如果脚本文件不在同一域名下，就无法访问该资源。例如，一个网页中的 JavaScript 脚本无法直接访问另一个网站上的数据，因为它们不在同一域名下。

**跨域**是指在访问不同域名下的资源时出现的一种情况，例如在页面中使用 AJAX 请求访问其他域名的 API 接口或资源文件，或者在网站中嵌入其他域名下的第三方插件（如广告、社交媒体等）。由于浏览器的同源策略限制，这些跨域访问可能会受到阻碍或失败，需要通过一些特殊的技术手段来解决，例如 JSONP、CORS、iframe、postMessage 等。

#### 怎么解决前端跨域？

前端跨域产生的根本原因是浏览器的限制，为了保障用户的信息安全，浏览器同源策略是必须且恰当的。对于前端跨域问题，可以采用以下方式解决：

1. **通过服务端代理跨域**：可以在服务端搭建一个代理服务器，使这个服务器请求跨域的数据，然后再将数据通过自己的服务器转发给客户端，从而解决跨域问题。
1. **使用 JSONP**：JSONP（JSON with padding）是一种跨域数据访问的技术，在客户端定义一个回调函数，并将函数名作为参数传递给服务器端，服务器端返回一个包含函数调用的 JavaScript 脚本，客户端通过执行这个脚本来间接获取数据。
1. **使用 CORS**：CORS（Cross-Origin Resource Sharing） 是 W3C 标准，全称是跨域资源共享。 它使用额外的 HTTP 头来告诉浏览器 该服务器允许哪些源站访问哪些资源，从而解决跨域问题。

#### 使用 JSONP 有什么优缺点？

使用 JSONP 有以下优点：

1. 可以跨域访问数据，解决了浏览器的同源策略限制，方便数据共享。
1. 轻松实现，不需要进行额外的配置和兼容处理。

使用 JSONP 有以下缺点：

1. 只支持 GET 请求，不支持 POST 等其他请求方式。
1. 使用 JSONP 时必须确定服务器端支持 JSONP，否则无法正常获取数据。
1. 安全性问题，JSONP 允许自定义回调函数，容易被恶意程序利用，造成安全问题。
1. 仅支持 JSON 格式数据，不支持其他数据格式。
