<!--
 * @Author: Shu Binqi
 * @Date: 2023-03-14 19:49:19
 * @LastEditors: Shu Binqi
 * @LastEditTime: 2023-03-14 19:49:29
 * @Description: 事件循环机制 Event Loop
 * @Version: 1.0.0
 * @FilePath: \interviewQuestions\前端基础\浏览器\事件循环-EventLoop.md
-->

#### 如何理解浏览器的事件循环机制？

浏览器的**事件循环**（Event Loop）机制是指浏览器处理 JavaScript 事件的一种机制。JavaScript 代码在浏览器中是单线程执行的，也就是说在同一时刻只能执行一个任务，如果在执行某个任务的过程中发生了阻塞，就会影响其他任务的执行。为了解决这个问题，浏览器采用了事件循环机制，将任务分为两种：同步任务和异步任务。

1. 同步任务是指需要立即执行的任务，它会按照顺序在主线程上执行，直到执行完毕后才会执行下一个任务。如果一个任务需要执行时间很长，它会阻塞其他任务的执行，导致页面卡顿。
1. 异步任务是指不需要立即执行的任务，它会被推入任务队列中等待执行。当主线程执行完所有同步任务后，就会去任务队列中取出一个异步任务进行执行。异步任务执行完成后，会将回调函数加入到事件队列中。如果在此期间有新的异步任务进入任务队列，则会等待主线程再次执行完所有同步任务后再取出执行。

事件循环机制的核心就是事件队列，事件队列用来存储所有需要异步执行的任务以及它们对应的回调函数。当主线程空闲时，就会从事件队列中取出任务并执行。事件循环会不断地从事件队列中取出任务并执行，直到队列为空。

需要注意的是，JavaScript 中的定时器（setTimeout 和 setInterval）并不是由事件循环来实现的，而是由浏览器的定时器模块来实现的。当定时器超时后，会将回调函数加入到事件队列中等待执行。如果此时事件队列中存在其他任务，仍然会等待主线程执行完所有同步任务后才会执行定时器回调函数。
