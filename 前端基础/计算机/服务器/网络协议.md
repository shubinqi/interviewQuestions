<!--
 * @Author: Shu Binqi
 * @Date: 2023-03-19 21:50:48
 * @LastEditors: Shu Binqi
 * @LastEditTime: 2023-03-20 19:17:42
 * @Description: 网络协议
 * @Version: 1.0.0
 * @FilePath: \interviewQuestions\前端基础\计算机\服务器\网络协议.md
-->

#### 网络协议有哪些？

网络协议是计算机网络中进行数据交换而建立的规则、标准或约定的集合。网络协议的作用主要有两个：一是建立对等层之间的虚拟通信，二是实现层次之间的无关性。

常见的网络协议有如下几种：

1. **HTTP1.1**（Hypertext Transfer Protocol Vertion 1.1）：超文本传输协议-版本 1.1，是 Web 服务器和客户端之间的通信协议，用于传输超文本和其他资源。
1. **FTP**（File Transfer Protocol）：文件传输协议，是用来在网络上进行文件传输的一套标准协议，支持用户通过 Internet 在计算机之间直接传输文件。
1. **SMTP**（Simple Mail Transfer Protocol）：简单邮件传输协议，是 TCP/IP 协议族中的一员，用于从源地址到目的地址传输邮件。
1. **POP3**（Post Office Protocol Version 3）：邮局协议版本 3，是 TCP/IP 协议族中的一员，用于接收邮件。
1. **TCP/IP**（Transmission Control Protocol/Internet Protocol）：传输控制协议/Internet 协议，是 Internet 最基本的协议之一，也是目前世界上应用最为广泛的协议之一。
1. **UDP**（User Datagram Protocol）：用户数据报协议，是一种无连接的传输层协议，提供面向事务的简单不可靠信息传输服务。

网络协议一般由三大部分组成：语法、语义和时序。其中，语法规定了数据的格式，语义规定了数据的含义，时序规定了数据的顺序。网络协议的层次间无关性，就是指较高层次和相邻的相低层次进行通信时，只是利用较低层次提供的接口和服务，而不需了解低层的细节。

#### HTTP 协议是什么？有什么优缺点？

**HTTP** 协议是一种超文本传输协议，用于在 Web 浏览器和 Web 服务器之间传输数据。HTTP 协议是一个"灵活可扩展"的传输协议，有请求方法、版本号、状态码、头字段等特性。HTTP 协议的方法有 GET、POST、HEAD、PUT、DELETE、TRACE、CONNECT、OPTIONS。HTTP 协议的请求行由请求 Method、URL 字段和 HTTP Version 三部分构成，请求方式定义了本次请求的请求方式，请求地址标识了请求的资源，HTTP 协议版本定义了所遵循的 HTTP 协议版本。常用的 HTTP 协议版本有 HTTP/1.0、HTTP/1.1 和 HTTP/2.0。

HTTP 协议的优点和缺点并不是绝对的，在某些特定情况下显示出来的优缺点，有时优点可以是缺点，有时缺点可以是优点。HTTP 协议的优点包括：

1. **简单易用**，易于开发和调试
1. **可扩展性强**，能够灵活适应不同的应用场景
1. **跨平台、跨语言**，可以在不同的系统和编程语言之间进行数据传输
1. **可以缓存数据**，提高数据传输效率

HTTP 协议的缺点包括：

1. **不安全**，数据传输过程中容易被窃听和篡改
1. **无状态**，每次请求都需要重新认证，不能保持会话状态
1. **性能较低**，每次请求都需要建立连接和断开连接，增加了网络开销
1. **传输的数据量较大**，不适合传输大文件或大数据量的数据

为了解决 HTTP 协议的安全问题，HTTPS 协议应运而生。HTTPS 协议是在 HTTP 协议的基础上增加了加密、认证和完整性保护等机制，使得数据传输更加安全可靠。HTTP 协议和 HTTPS 协议的区别主要在于：

1. HTTPS 协议需要使用 SSL/TLS 协议对数据进行加密，而 HTTP 协议不需要
1. HTTPS 协议需要使用数字证书对服务器进行认证，而 HTTP 协议不需要
1. HTTPS 协议可以防止数据被篡改和窃听，而 HTTP 协议无法做到这一点

总之，HTTP 协议是一种非常重要的网络传输协议，虽然存在一些缺点，但是在 Web 应用开发中仍然得到广泛应用。随着网络安全问题的日益严重，HTTPS 协议也越来越受到关注和重视，成为 Web 应用开发中不可或缺的一部分。

#### FTP 协议是什么？有什么优缺点？

**FTP**（File Transfer Protocol，文件传输协议）是 TCP/IP 协议组中的协议之一。FTP 包括两个组成部分，FTP 服务器和 FTP 客户端。FTP 服务器用来存储文件，用户可以使用 FTP 客户端通过 FTP 协议访问位于 FTP 服务器上的资源。FTP 协议主要作用是在服务器和客户端之间实现文件的传输和共享。FTP 协议运行在 TCP 连接上，保证了文件传输的可靠性。在传输时，传输双方的操作系统、磁盘文件系统类型可以不同。用户可以通过 FTP 协议把自己的 PC 机与世界各地所有运行 FTP 协议的服务器相连，访问服务器上的大量程序和信息。

优点：

1. **完全基于网络**，具有网络文件的上传与下载特性。支持断点续传，不受工作组与 IP 地址限制等。
1. **拥有完善的用户权限管理系统**，可以详细设置每个用户的权限。如只能上传，不能修改或删除等。
1. **安全性高**，支持用户登录、口令加密等功能。
1. **支持跨平台传输**，传输双方的操作系统、磁盘文件系统类型可以不同。

缺点：

1. **传输速度慢**，特别是在比较差的网络环境下，传输速度更是缓慢。
1. **不支持加密**，数据传输存在被窃听和篡改的风险。
1. **不适合大文件的传输**，因为在传输大文件时，FTP 会占用大量的带宽，严重影响其他用户的使用。
1. **不支持文件夹的压缩和解压缩**，需要手动逐个文件的传输，操作繁琐。

总体来说，FTP 协议是一种可靠、安全、跨平台的文件传输协议，但传输速度较慢，不适合大文件传输，并且不支持加密和文件夹压缩解压缩等功能。在实际使用中需要根据具体需求进行选择。

#### SMTP 协议是什么？有什么优缺点？

**SMTP**（Simple Mail Transfer Protocol）是一种电子邮件传输协议，用于将邮件从发件人发送到收件人的邮件服务器。SMTP 是建立在 FTP 文件传输服务上的一种邮件服务，主要用于系统之间的邮件信息传递，并提供有关来信的通知。SMTP 协议是可靠且有效的电子邮件传输协议。SMTP 协议是跨越网络传输邮件的，即“SMTP 邮件中继”。SMTP 不同的返回码具备不同的含义，其中 2yz 表示命令被成功处理，3yz 表示命令被成功处理，但是服务器需要更多信息才能完成任务，4yz 表示服务器发生暂时性的失败，客户端可以进行重试直至成功(2yz)或者失败(5yz)，5yz 表示发生不可恢复错误。SMTP 相关的端口有 25/587/465，其中 25 端口在 RFC 821 引入，但是该端口默认是不支持 SSL 并且不用身份认证，而且很多 ISP 会拦截该端口的请求，所以推荐用于 relaying 阶段。587 端口在 RFC 2476 中定义，需要身份认证，推荐用于 submitting 阶段。465 端口设计的初衷是用于 SSL 连接，但是最终未被 IETF 采纳，所以很多文章介绍这个端口时，都建议不使用它。但是其实它还是有使用场景的，很多邮件服务器在 submitting 阶段，可以通过 25/587 建立 TCP 明文连接，然后再通过 starttls 和服务器进行协商，把 TCP 明文连接升级为 SSL/TLS 连接。而如果希望在和服务器第一次建立连接就是一个 SSL/TLS 连接，则需要使用 465 端口。

SMTP 协议的优点：

1. 可以跨越网络传输邮件，即“SMTP 邮件中继”。
1. SMTP 协议是可靠且有效的电子邮件传输协议。

SMTP 协议的缺点：

1. SMTP 是一个纯文本协议，缺乏加密和安全性保障，容易被黑客攻击。
1. SMTP 协议无法处理大型邮件，因为 SMTP 协议是串行传输邮件，如果邮件体积过大，会导致传输时间过长，从而影响邮件传输效率。
1. SMTP 协议容易被滥用，因为 SMTP 协议没有身份验证机制，可以被黑客用来发送垃圾邮件。

#### POP3 协议是什么？有什么优缺点？

**POP3** 协议是一种早期的邮件传输协议，它允许邮件客户端下载服务器上的邮件，但是在客户端的操作（如删除、移动邮件、标记已读等），不会反馈到服务器上，因此在某种程度上，POP3 协议是不同步的。具体来说，当用户使用邮件客户端（如 Outlook、Foxmail 等）向邮件服务器（如 163、sina 等）发送邮件时，客户端会发消息给邮件服务器上的 SMTP service，如果邮件的收信人也是处于同一个域，比如从http://163.com发送给163的邮箱，SMTP service 只需要转给本地的 POP3 Service 即可。如果邮件收信人是不同的域，比如http://163.com发送给http://sina.com， SMTP service 需要通过询问域名系统, 找到属于 sina 的 SMTP service 的 host 域名。SMTP service 收到邮件后转给负责接收邮件的 POP3 service。

POP3 协议的优点：

1. POP3 协议下载邮件后，不需要保持与邮件服务器的连接，可以离线阅读邮件。

POP3 协议的缺点：

1. POP3 协议是不同步的，不会反馈到服务器上，比如通过客户端删除了几封不想再看的邮件，服务器上的这些邮件是没有被删除的，还需要去网页上删除一遍。
1. POP3 协议只能下载邮件，不能在线阅读邮件。而且，邮件客户端下载邮件后，邮件服务器上的邮件就被删除了，如果用户需要在多个设备上查看邮件，就需要使用 IMAP 协议。

#### TCP/IP 协议是什么？有什么优缺点？

**TCP/IP** 协议是 Internet 最基本的协议，包括四种层次：应用层、传输层、网络层和数据链路层。其中应用层的主要协议有 Telnet、FTP、SMTP 等，传输层的主要协议有 UDP、TCP，网络层的主要协议有 ICMP。IP 协议在网络层提供无连接的数据传输服务，而 TCP 协议在传输层提供面向连接的、可靠的数据传输服务。TCP/IP 协议的主要作用是将数据在不同的计算机之间进行传输，因此它是互联网的核心协议。

TCP/IP 协议中有四种类型的层，分别是应用层、传输层、网络层和数据链路层。这四种层次共同工作，确保了互联网的正常运作。TCP/IP 协议的作用是将数据在不同的计算机之间进行传输，因此它是互联网的核心协议。

TCP/IP 协议是一系列协议的统称，它包括了多个协议，如 IP、ICMP、TCP、UDP、TELNET、FTP 和 HTTP 等。TCP/IP 协议是互联网进行通信时所必须用到的协议群的统称，因此，有时也称 TCP/IP 为网际协议群。TCP/IP 协议泛指这些协议，是互联网必不可少的组成部分。

TCP 和 UDP 是 TCP/IP 协议中传输层的两种协议，它们有各自的优缺点，应该根据应用的目的按需使用。TCP 协议提供面向连接的、可靠的数据传输服务，适用于在传输层有必要实现可靠传输的情况；而 UDP 协议主要用于对高速传输和实时性有较高要求的通信或广播通信。

TCP/IP 模型的优点包括：

1. TCP/IP 是互联网的核心协议，它是互联网进行通信的基础，具有广泛的应用和稳定性。
1. TCP/IP 协议具有开放性，它可以与其他协议进行互操作，使得不同的计算机可以相互通信。
1. TCP/IP 协议具有可靠性，它可以检测和纠正数据传输中的错误，确保数据的准确性和完整性。

TCP/IP 模型的缺点包括：

1. TCP/IP 模型本质上不是通用的，无法表示 TCP/IP 套件以外的任何协议堆栈，例如，它不能描述蓝牙连接。
1. TCP/IP 模型没有明确区分服务、接口和协议的概念，因此不适合在新网络中描述新技术。
1. TCP/IP 模型不能区分数据链路和物理层，后者具有非常不同的特征。

#### UDP 协议是什么？有什么优缺点？

**UDP** 是 User Datagram Protocol 的缩写，是一种无连接的、不可靠的网络传输协议，它不对数据包进行可靠性保证，不保证数据到达的顺序和完整性。UDP 主要用于一些实时性要求较高的应用，如视频会议、在线游戏等。以下是 UDP 协议的优缺点：

优点：

1. **快速**：UDP 没有 TCP 的握手、确认、窗口、重传、拥塞控制等机制，因此传输速度非常快，适合实时性要求较高的应用。
1. **资源消耗低**：UDP 协议没有建立连接的过程，因此资源消耗比 TCP 协议低。
1. **简单**：UDP 协议的头部只有 8 个字节，在处理数据包时比 TCP 协议更简单。

缺点：

1. **不可靠**：UDP 协议不保证数据包到达的顺序和完整性，且不提供重传机制，因此不适用于对数据完整性要求高的应用。
1. **安全性差**：UDP 协议没有 TCP 协议的握手、确认等机制，因此容易受到攻击，如 UDP Flood 攻击等。
1. **适用范围窄**：UDP 协议适用于实时性要求较高、数据完整性要求不高的应用，如视频会议、在线游戏等，而不适用于对数据完整性要求高的应用，如文件传输等。

综上所述，UDP 协议适用于对实时性要求较高、数据完整性要求不高的应用，如视频会议、在线游戏等。而对于对数据完整性要求高的应用，如文件传输等，则应该使用 TCP 协议。

#### TCP 和 UDP 协议的区别？

**TCP**（Transmission Control Protocol，传输控制协议）和 **UDP**（User Datagram Protocol，用户数据报协议）协议是传输层协议，用于程序之间传输数据。它们之间的区别主要有以下几个方面:

1. **连接方式**：TCP 是基于连接的，而 UDP 是基于非连接的。在 TCP 中，必须先建立连接，才能传输数据，而 UDP 可以直接发送数据包。因此，UDP 比 TCP 更加轻量级，适合实时性要求高、数据量小且不需要可靠传输的应用，如视频会议、在线游戏等。
1. **资源要求**：TCP 需要较多的系统资源，如 CPU、内存等，以确保数据的可靠传输，而 UDP 的资源要求较少。
1. **程序结构**：UDP 程序结构相对简单，因为它不需要建立连接和维护状态，而 TCP 程序结构较为复杂。
1. **传输方式**：TCP 采用流模式，将数据拆成多个数据包进行传输，而 UDP 采用数据报模式，将数据封装成数据包进行传输。
1. **数据传输的可靠性**：TCP 保证数据的可靠传输，可以检测数据是否有丢失或重复，并按照正确的顺序组装数据。而 UDP 可能会丢失数据包，也不保证数据的顺序。

此外，TCP 还有一个特点，就是在建立连接时采用三次握手的方式，以确保连接的可靠性。三次握手的过程如下:

1. 客户端向服务器发送一个 SYN 报文，表示请求建立连接，并指定一个初始化序列号 seq。
1. 服务器收到 SYN 报文后，向客户端发送一个 SYN+ACK 报文，表示确认连接请求，并指定自己的初始化序列号 seq、以及确认号 ack。同时，服务器也会在 SYN+ACK 报文中发送一个自己的 SYN 报文，请求客户端确认。
1. 客户端收到 SYN+ACK 报文后，向服务器发送一个 ACK 报文，表示确认连接请求，并指定自己的确认号 ack。服务器收到 ACK 报文后，连接建立完成。

总的来说，TCP 用于在传输层有必要实现可靠传输的情况；而 UDP 主要用于那些对高速传输和实时性有较高要求的通信或广播通信。TCP 和 UDP 应该根据应用的目的按需使用。

#### TCP 和 HTTP 协议的区别？

**TCP** 和 **HTTP** 是互联网通信协议栈中的两个不同层次的协议，它们分别负责不同的任务，有以下的区别：

1. TCP 协议对应于传输层，而 HTTP 协议对应于应用层，它们属于不同的网络协议层次（blog.csdn.net）。
1. TCP 是一种面向连接的协议，它主要负责数据的可靠传输，保证数据能够完整、有序地传输到目的地。而 HTTP 是一种无状态的协议，它主要负责应用层的数据交互，也就是 Web 浏览器和 Web 服务器之间的数据传输（zhuanlan.zhihu.com）。
1. TCP 提供了可靠的数据传输，它会对数据进行分段、排序、重传、拥塞控制等操作，保证数据的可靠性和完整性。而 HTTP 只是在 TCP/IP 协议的基础上定义了一种规范，它规定了客户端和服务器之间的数据传输格式和交互方式，但并不负责数据传输的可靠性（zhihu.com）。
1. TCP 是一种面向字节流的协议，它会将数据流分成多个 TCP 数据包进行传输，每个数据包都有自己的序号和确认号。而 HTTP 是一种基于请求响应模型的协议，它通过请求和响应交换数据，客户端发送请求，服务器返回响应（zhuanlan.zhihu.com）。
1. TCP 协议对于网络延迟和带宽利用率有一定的影响，因为它需要进行三次握手、拥塞控制等操作。而 HTTP 协议不会直接影响网络延迟和带宽利用率，但是 HTTP 协议的性能受到 TCP 协议的限制（blog.csdn.net）。

总的来说，TCP 和 HTTP 是两个不同层次的协议，它们分别负责不同的任务，TCP 负责数据传输的可靠性，而 HTTP 负责应用层的数据交互。在实际应用中，它们通常是一起使用的，HTTP 协议会基于 TCP 协议进行数据传输，保证数据的可靠性和完整性。
